"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[8378],{209:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"spring-data-jpa/jpa-n+1-problem","title":"N + 1 \ubb38\uc81c","description":"\uc5f0\uad00 \uad00\uacc4\uac00 \uc124\uc815\ub41c \uc5d4\ud2f0\ud2f0\ub97c \uc870\ud68c\ud560 \uacbd\uc6b0\uc5d0, \uc870\ud68c\ub41c \ub370\uc774\ud130 \uac1c\uc218(N)\ub9cc\ud07c \uc5f0\uad00\uad00\uacc4\uc758 \uc870\ud68c \ucffc\ub9ac\uac00 \ucd94\uac00\ub85c \ubc1c\uc0dd\ud558\ub294 \ud604\uc0c1\uc785\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ube14\ub85c\uadf8 \uac8c\uc2dc\uae00\uacfc \ub313\uae00\uc774 \uc788\ub294 \uacbd\uc6b0,","source":"@site/docs/spring-data-jpa/jpa-n+1-problem.md","sourceDirName":"spring-data-jpa","slug":"/spring-data-jpa/jpa-n+1-problem","permalink":"/docs/spring-data-jpa/jpa-n+1-problem","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Spring","permalink":"/docs/tags/spring","description":"Spring Framework tag description"},{"inline":false,"label":"JPA","permalink":"/docs/tags/jpa","description":"JPA tag description"}],"version":"current","frontMatter":{"slug":"jpa-n+1-problem","title":"N + 1 \ubb38\uc81c","tags":["spring","jpa"]},"sidebar":"johnyDocsSidebar","previous":{"title":"ID \uc0dd\uc131 \uc804\ub7b5","permalink":"/docs/spring-data-jpa/jpa-id-generation-strategy"},"next":{"title":"\uc0c8\ub85c\uc6b4 Entity \ud310\ub2e8 \uae30\uc900","permalink":"/docs/spring-data-jpa/jpa-new-entity"}}');var s=t(4848),a=t(8453);const i={slug:"jpa-n+1-problem",title:"N + 1 \ubb38\uc81c",tags:["spring","jpa"]},l="JPA\uc758 N + 1 \ubb38\uc81c\ub780?",o={},p=[{value:"\u2714\ufe0f findAll \uba54\uc11c\ub4dc\uc758 \uae00\ub85c\ubc8c \ud328\uce58 \uc804\ub7b5 \ubcc4 N + 1 \ubb38\uc81c \uc0c1\ud669\uc740?",id:"\ufe0f-findall-\uba54\uc11c\ub4dc\uc758-\uae00\ub85c\ubc8c-\ud328\uce58-\uc804\ub7b5-\ubcc4-n--1-\ubb38\uc81c-\uc0c1\ud669\uc740",level:2},{value:"\u2714\ufe0f N + 1 \ubb38\uc81c\ub294 \uc5b4\ub5bb\uac8c \ud574\uacb0\ud560 \uc218 \uc788\uc744\uae4c? \ud83e\udd14",id:"\ufe0f-n--1-\ubb38\uc81c\ub294-\uc5b4\ub5bb\uac8c-\ud574\uacb0\ud560-\uc218-\uc788\uc744\uae4c-",level:2}];function c(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"jpa\uc758-n--1-\ubb38\uc81c\ub780",children:"JPA\uc758 N + 1 \ubb38\uc81c\ub780?"})}),"\n",(0,s.jsx)(e.p,{children:"\uc5f0\uad00 \uad00\uacc4\uac00 \uc124\uc815\ub41c \uc5d4\ud2f0\ud2f0\ub97c \uc870\ud68c\ud560 \uacbd\uc6b0\uc5d0, \uc870\ud68c\ub41c \ub370\uc774\ud130 \uac1c\uc218(N)\ub9cc\ud07c \uc5f0\uad00\uad00\uacc4\uc758 \uc870\ud68c \ucffc\ub9ac\uac00 \ucd94\uac00\ub85c \ubc1c\uc0dd\ud558\ub294 \ud604\uc0c1\uc785\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ube14\ub85c\uadf8 \uac8c\uc2dc\uae00\uacfc \ub313\uae00\uc774 \uc788\ub294 \uacbd\uc6b0,\n\uac8c\uc2dc\uae00\uc744 \uc870\ud68c\ud55c \ud6c4 \uac01 \uac8c\uc2dc\uae00\ub9c8\ub2e4 \ub313\uae00\uc744 \uc870\ud68c\ud558\uae30 \uc704\ud55c \ucd94\uac00 \ucffc\ub9ac\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c N + 1 \ubb38\uc81c\ub77c\uace0 \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-findall-\uba54\uc11c\ub4dc\uc758-\uae00\ub85c\ubc8c-\ud328\uce58-\uc804\ub7b5-\ubcc4-n--1-\ubb38\uc81c-\uc0c1\ud669\uc740",children:"\u2714\ufe0f findAll \uba54\uc11c\ub4dc\uc758 \uae00\ub85c\ubc8c \ud328\uce58 \uc804\ub7b5 \ubcc4 N + 1 \ubb38\uc81c \uc0c1\ud669\uc740?"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"spring data jpa\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 repository\uc758 findAll \uba54\uc11c\ub4dc\uc785\ub2c8\ub2e4!"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\uae00\ub85c\ubc8c \ud328\uce58 \uc804\ub7b5\uc744 \uc989\uc2dc\ub85c\ub529\uc73c\ub85c \uc124\uc815\ud558\uace0 findAll()\uc744 \uc2e4\ud589\ud558\uba74 N + 1 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uc774\ub294 findAll()\uc740 select u from User u\ub77c\ub294 JPQL\n\uad6c\ubb38\uc744 \uc0dd\uc131\ud574\uc11c \uc2e4\ud589\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. JPQL\uc740 \uae00\ub85c\ubc8c \ud328\uce58 \uc804\ub7b5\uc744 \uace0\ub824\ud558\uc9c0 \uc54a\uace0 \ucffc\ub9ac\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4. \ubaa8\ub4e0 User\ub97c \uc870\ud68c\ud558\ub294 \ucffc\ub9ac \uc2e4\ud589 \ud6c4, \uc989\uc2dc\ub85c\ub529 \uc124\uc815\uc744 \ubcf4\uace0 \uc5f0\uad00\uad00\uacc4\uc5d0 \uc788\ub294\n\ubaa8\ub4e0 \uc5d4\ud2f0\ud2f0\ub97c \uc870\ud68c\ud558\ub294 \ucffc\ub9ac\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.p,{children:"\uae00\ub85c\ubc8c \ud328\uce58 \uc804\ub7b5\uc744 \uc9c0\uc5f0 \ub85c\ub529\uc73c\ub85c \uc124\uc815\ud558\uace0 findAll()\uc744 \uc2e4\ud589\ud558\uba74 N + 1 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc5f0\uad00\uad00\uacc4\uc5d0 \uc788\ub294 \uc5d4\ud2f0\ud2f0\ub97c \uc2e4\uc81c \uac1d\uccb4 \ub300\uc2e0\uc5d0 \ud504\ub85d\uc2dc \uac1d\uccb4\ub85c \uc0dd\uc131\ud558\uc5ec\n\uc8fc\uc785\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ud504\ub85d\uc2dc \uac1d\uccb4\ub97c \uc0ac\uc6a9\ud560 \uacbd\uc6b0\uc5d0 \uc2e4\uc81c \ub370\uc774\ud130\uac00 \ud544\uc694\ud558\uc5ec \uc870\ud68c\ud558\ub294 \ucffc\ub9ac\uac00 \ubc1c\uc0dd\ud558\uace0 N + 1 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-n--1-\ubb38\uc81c\ub294-\uc5b4\ub5bb\uac8c-\ud574\uacb0\ud560-\uc218-\uc788\uc744\uae4c-",children:"\u2714\ufe0f N + 1 \ubb38\uc81c\ub294 \uc5b4\ub5bb\uac8c \ud574\uacb0\ud560 \uc218 \uc788\uc744\uae4c? \ud83e\udd14"}),"\n",(0,s.jsx)(e.p,{children:"N + 1 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c\ub294 fetch join, @EntityGraph\ub97c \uc0ac\uc6a9\ud574 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. fetch join\uc740 \uc5f0\uad00 \uad00\uacc4\uc5d0 \uc788\ub294 \uc5d4\ud2f0\ud2f0\ub97c \ud55c\ubc88\uc5d0 \uc989\uc2dc \ub85c\ub529\ud558\ub294\n\uad6c\ubb38\uc785\ub2c8\ub2e4. @EntityGraph\ub3c4 \ube44\uc2b7\ud55c \ud6a8\uacfc\ub97c \ub9cc\ub4e4\uc5b4\ub0b4\uba70, \ucffc\ub9ac \uba54\uc11c\ub4dc\uc5d0 \ud574\ub2f9 \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ucd94\uac00\ud574 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select distinct u\nfrom User u\nleft join fetch u.posts\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@EntityGraph(attributePaths = {"posts"}, type = EntityGraphType.FETCH)\nList<User> findAll();\n'})})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>l});var r=t(6540);const s={},a=r.createContext(s);function i(n){const e=r.useContext(a);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);