"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[7e3],{2370:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>r,default:()=>x,frontMatter:()=>d,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"db/db-optimistic-pessimistic-lock","title":"\ub099\uad00\uc801 \ub77d\uacfc \ube44\uad00\uc801 \ub77d","description":"\ub099\uad00\uc801 \ub77d\uacfc \ube44\uad00\uc801 \ub77d\uc740 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud2b8\ub79c\uc7ad\uc158\uc5d0\uc11c \ub3d9\uc2dc\uc131 \uc81c\uc5b4\ub97c \uc704\ud55c \uc8fc\uc694 \uae30\ubc95\uc785\ub2c8\ub2e4.","source":"@site/docs/db/db-optimistic-pessimistic-lock.md","sourceDirName":"db","slug":"/db/db-optimistic-pessimistic-lock","permalink":"/docs/db/db-optimistic-pessimistic-lock","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Database","permalink":"/docs/tags/db","description":"Database tag description"}],"version":"current","frontMatter":{"slug":"db-optimistic-pessimistic-lock","title":"\ub099\uad00\uc801 \ub77d\uacfc \ube44\uad00\uc801 \ub77d","tags":["db"]},"sidebar":"johnyDocsSidebar","previous":{"title":"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc815\uaddc\ud654","permalink":"/docs/db/db-normalization"},"next":{"title":"\uad00\uacc4\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc640 \ube44 \uad00\uacc4\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc758 \ucc28\uc774\uc810","permalink":"/docs/db/db-rdb-and-nosql"}}');var i=n(4848),o=n(8453);const d={slug:"db-optimistic-pessimistic-lock",title:"\ub099\uad00\uc801 \ub77d\uacfc \ube44\uad00\uc801 \ub77d",tags:["db"]},r=void 0,t={},l=[{value:"\u2714\ufe0f \ub099\uad00\uc801 \ub77d (Optimistic Lock)",id:"\ufe0f-\ub099\uad00\uc801-\ub77d-optimistic-lock",level:2},{value:"\u2714\ufe0f \ube44\uad00\uc801 \ub77d (Pessimistic Lock)",id:"\ufe0f-\ube44\uad00\uc801-\ub77d-pessimistic-lock",level:2},{value:"MySQL\uc5d0\uc11c\ub294 \ub2e8\uc21c SELECT \ubb38\uc774 \ub77d\uc774 \uac78\ub9b0 row\uc5d0 \ub300\ud574\uc11c \ube14\ub85c\ud0b9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (InnoDB \uc5d4\uc9c4 \uae30\uc900, \uae30\ubcf8 \uc124\uc815 \uae30\uc900)",id:"mysql\uc5d0\uc11c\ub294-\ub2e8\uc21c-select-\ubb38\uc774-\ub77d\uc774-\uac78\ub9b0-row\uc5d0-\ub300\ud574\uc11c-\ube14\ub85c\ud0b9\ub418\uc9c0-\uc54a\uc2b5\ub2c8\ub2e4-innodb-\uc5d4\uc9c4-\uae30\uc900-\uae30\ubcf8-\uc124\uc815-\uae30\uc900",level:3},{value:"\u2714\ufe0f \ub450 \ubc29\uc2dd\uc758 \ucc28\uc774\uc810\uc740 \ubb58\uae4c?",id:"\ufe0f-\ub450-\ubc29\uc2dd\uc758-\ucc28\uc774\uc810\uc740-\ubb58\uae4c",level:2},{value:"\ucda9\ub3cc \uac00\ub2a5\uc131",id:"\ucda9\ub3cc-\uac00\ub2a5\uc131",level:3},{value:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub77d \uc0ac\uc6a9 \uc5ec\ubd80",id:"\ub370\uc774\ud130\ubca0\uc774\uc2a4-\ub77d-\uc0ac\uc6a9-\uc5ec\ubd80",level:3},{value:"\uc131\ub2a5",id:"\uc131\ub2a5",level:3}];function h(e){const s={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"\ub099\uad00\uc801 \ub77d\uacfc \ube44\uad00\uc801 \ub77d\uc740 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud2b8\ub79c\uc7ad\uc158\uc5d0\uc11c \ub3d9\uc2dc\uc131 \uc81c\uc5b4\ub97c \uc704\ud55c \uc8fc\uc694 \uae30\ubc95\uc785\ub2c8\ub2e4.\n\ub370\uc774\ud130 \ubb34\uacb0\uc131\uc744 \uc720\uc9c0\ud558\uba74\uc11c \uc5ec\ub7ec \ud2b8\ub79c\uc7ad\uc158\uc774 \ub3d9\uc2dc\uc5d0 \ub370\uc774\ud130\uc5d0 \uc811\uadfc\ud560 \ub54c \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \ucda9\ub3cc\uc744 \ud574\uacb0\ud560 \ub54c \uc0ac\uc6a9\ub429\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.h2,{id:"\ufe0f-\ub099\uad00\uc801-\ub77d-optimistic-lock",children:"\u2714\ufe0f \ub099\uad00\uc801 \ub77d (Optimistic Lock)"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)("mark",{children:(0,i.jsx)(s.strong,{children:"\ub370\uc774\ud130 \ucda9\ub3cc\uc774 \uc801\uc744 \uac83\uc73c\ub85c \uac00\uc815"})}),"\ud558\uace0, \ub370\uc774\ud130\ub97c \uc77d\uc744 \ub54c \ub77d\uc744 \uc124\uc815\ud558\uc9c0 \uc54a\uace0 \ud2b8\ub79c\uc7ad\uc158\uc774 \ub370\uc774\ud130\ub97c \uc218\uc815\ud560 \ub54c \ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc558\ub294\uc9c0 \ud655\uc778\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \ubcf4\ud1b5 ",(0,i.jsx)(s.code,{children:"version"}),"\uacfc \uac19\uc740 \ubcc4\ub3c4\uc758 \uad6c\ubd84 \uceec\ub7fc\uc744 \uc0ac\uc6a9\ud574\uc11c \ub370\uc774\ud130\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud558\uba70, ",(0,i.jsx)("mark",{children:(0,i.jsx)(s.strong,{children:"\ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud558\uba74 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uac00 \uc544\ub2cc \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \uc9c1\uc811 \ub864\ubc31\ud558\uac70\ub098 \uc7ac\uc2dc\ub3c4 \ucc98\ub9ac"})}),"\ub97c \ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.h2,{id:"\ufe0f-\ube44\uad00\uc801-\ub77d-pessimistic-lock",children:"\u2714\ufe0f \ube44\uad00\uc801 \ub77d (Pessimistic Lock)"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)("mark",{children:(0,i.jsx)(s.strong,{children:"\ub370\uc774\ud130 \ucda9\ub3cc\uc774 \ub9ce\uc744 \uac83\uc73c\ub85c \uac00\uc815"})}),"\ud558\uace0, \ud2b8\ub79c\uc7ad\uc158\uc774 \uc2dc\uc791\ub420 \ub54c ",(0,i.jsx)(s.code,{children:"\uacf5\uc720\ub77d(Shared Lock, S-Lock)"})," \ub610\ub294 ",(0,i.jsx)(s.code,{children:"\ubca0\ud0c0\ub77d(Exclusive Lock, X-Lock)"}),"\uc744 \uc124\uc815\ud558\uc5ec \ub2e4\ub978 \ud2b8\ub79c\uc7ad\uc158\uc774 \ud574\ub2f9 \ub370\uc774\ud130\uc5d0 \uc811\uadfc\ud558\uc9c0 \ubabb\ud558\ub3c4\ub85d \ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["S-Lock: \ub2e4\ub978 \ud2b8\ub79c\uc7ad\uc158\uc5d0\uc11c \uc77d\uae30\ub294 \uac00\ub2a5\ud558\uc9c0\ub9cc \uc4f0\uae30\ub294 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.",(0,i.jsx)(s.br,{}),"\n","X-Lock: \ub2e4\ub978 \ud2b8\ub79c\uc7ad\uc158\uc5d0\uc11c \uc77d\uae30, \uc4f0\uae30 \ubaa8\ub450 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["cf. MySQL\uc740 ",(0,i.jsx)(s.code,{children:"\uc77c\uad00\ub41c \uc77d\uae30(Consistent Nonlocking Reads)"}),"\ub97c \uc9c0\uc6d0\ud558\uc5ec ",(0,i.jsx)(s.code,{children:"X-Lock"}),"\uc774 \uac78\ub824 \uc788\uc5b4\ub3c4 \ub2e8\uc21c ",(0,i.jsx)(s.code,{children:"SELECT"}),"\ub85c \uc77d\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"mysql\uc5d0\uc11c\ub294-\ub2e8\uc21c-select-\ubb38\uc774-\ub77d\uc774-\uac78\ub9b0-row\uc5d0-\ub300\ud574\uc11c-\ube14\ub85c\ud0b9\ub418\uc9c0-\uc54a\uc2b5\ub2c8\ub2e4-innodb-\uc5d4\uc9c4-\uae30\uc900-\uae30\ubcf8-\uc124\uc815-\uae30\uc900",children:"MySQL\uc5d0\uc11c\ub294 \ub2e8\uc21c SELECT \ubb38\uc774 \ub77d\uc774 \uac78\ub9b0 row\uc5d0 \ub300\ud574\uc11c \ube14\ub85c\ud0b9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (InnoDB \uc5d4\uc9c4 \uae30\uc900, \uae30\ubcf8 \uc124\uc815 \uae30\uc900)"}),"\n",(0,i.jsxs)(s.p,{children:["MySQL\uc758 ",(0,i.jsx)(s.code,{children:"InnoDB"})," \uc2a4\ud1a0\ub9ac\uc9c0 \uc5d4\uc9c4\uc740 ",(0,i.jsx)(s.a,{href:"/docs/db/db-concurrency-control#%EF%B8%8F-mvccmulti-version-concurrency-control",children:"MVCC(Multi-Version Concurrency Control)"}),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.",(0,i.jsx)(s.br,{}),"\n","\uc989, ",(0,i.jsx)(s.code,{children:"SELECT"}),"\ub294 \ub77d\uc744 \uac78\uc9c0 \uc54a\uace0, \ud2b8\ub79c\uc7ad\uc158 \uaca9\ub9ac \uc218\uc900\uc5d0 \ub530\ub77c \uc2a4\ub0c5\uc0f7\ub41c \ub370\uc774\ud130 \ubc84\uc804\uc744 \uc77d\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(s.p,{children:["\ub530\ub77c\uc11c \ub204\uad70\uac00 ",(0,i.jsx)(s.code,{children:"UPDATE"}),"\ub098 ",(0,i.jsx)(s.code,{children:"DELETE"}),"\ub85c \ud2b9\uc815 row\uc5d0 \uc4f0\uae30 \ub77d\uc744 \uc7a1\uace0 \uc788\uc5b4\ub3c4, ",(0,i.jsx)(s.code,{children:"SELECT * FROM table WHERE id = 1;"}),"\uac19\uc740 \ub2e8\uc21c \uc870\ud68c\ub294 \ub77d\uc744 \uae30\ub2e4\ub9ac\uc9c0 \uc54a\uace0 \ubc14\ub85c \uc2e4\ud589\ub429\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.h2,{id:"\ufe0f-\ub450-\ubc29\uc2dd\uc758-\ucc28\uc774\uc810\uc740-\ubb58\uae4c",children:"\u2714\ufe0f \ub450 \ubc29\uc2dd\uc758 \ucc28\uc774\uc810\uc740 \ubb58\uae4c?"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"\ub099\uad00\uc801 \ub77d"}),"\uc740 \ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud558\uba74 \ud574\uacb0\ud558\ub294 \ubc29\uc2dd\uc774\uace0, ",(0,i.jsx)(s.code,{children:"\ube44\uad00\uc801 \ub77d"}),"\uc740 \uc560\ucd08\uc5d0 \ucda9\ub3cc\uc744 \ubc29\uc9c0\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(s.p,{children:["\ub370\uc774\ud130 \ucda9\ub3cc\uc774 \uc790\uc8fc \ubc1c\uc0dd\ud558\uac70\ub098 \ub370\uc774\ud130 \ubb34\uacb0\uc131\uc774 \uc911\uc694\ud55c \uacbd\uc6b0\uc5d0\ub294 ",(0,i.jsx)(s.code,{children:"\ube44\uad00\uc801 \ub77d"}),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc720\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",(0,i.jsx)(s.br,{}),"\n","\uc870\ud68c \uc791\uc5c5\uc774 \ub9ce\uace0 \ub3d9\uc2dc \uc811\uadfc \uc131\ub2a5\uc774 \uc911\uc694\ud55c \uacbd\uc6b0\uc5d0\ub294 ",(0,i.jsx)(s.code,{children:"\ub099\uad00\uc801 \ub77d"}),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc720\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.h3,{id:"\ucda9\ub3cc-\uac00\ub2a5\uc131",children:"\ucda9\ub3cc \uac00\ub2a5\uc131"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"\ub099\uad00\uc801 \ub77d"}),"\uc740 \ucda9\ub3cc\uc774 \uc790\uc8fc \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc744 \uac83\uc774\ub77c\uace0 \uac00\uc815\ud558\uace0, ",(0,i.jsx)(s.code,{children:"\ube44\uad00\uc801 \ub77d"}),"\uc740 \ucda9\ub3cc\uc774 \uc790\uc8fc \ubc1c\uc0dd\ud560 \uac83\uc774\ub77c\uace0 \uac00\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.h3,{id:"\ub370\uc774\ud130\ubca0\uc774\uc2a4-\ub77d-\uc0ac\uc6a9-\uc5ec\ubd80",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub77d \uc0ac\uc6a9 \uc5ec\ubd80"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"\ub099\uad00\uc801 \ub77d"}),"\uc740 \ub77d\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0, ",(0,i.jsx)(s.code,{children:"\ube44\uad00\uc801 \ub77d"}),"\uc740 \ud2b8\ub79c\uc7ad\uc158\uc774 \uc2dc\uc791\ub420 \ub54c \ub77d\uc744 \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.h3,{id:"\uc131\ub2a5",children:"\uc131\ub2a5"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"\ub099\uad00\uc801 \ub77d"}),"\uc740 \ub77d\uc744 \uc124\uc815\ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \uc131\ub2a5\uc774 \ub354 \uc88b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud560 \uacbd\uc6b0 \ub864\ubc31\ud558\uac70\ub098 \uc7ac\uc2dc\ub3c4 \ucc98\ub9ac\ub97c \ud574\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 \uc131\ub2a5\uc774 \ub5a8\uc5b4\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.code,{children:"\ube44\uad00\uc801 \ub77d"}),"\uc740 \ub77d\uc744 \uc124\uc815\ud558\uae30 \ub54c\ubb38\uc5d0 \ub2e4\ub978 \ud2b8\ub79c\uc7ad\uc158\uc774 \ub300\uae30\ud574\uc57c \ud558\uba70, \uc774\ub85c \uc778\ud574 \uc131\ub2a5\uc774 \uc800\ud558\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})]})}function x(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>r});var c=n(6540);const i={},o=c.createContext(i);function d(e){const s=c.useContext(o);return c.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),c.createElement(o.Provider,{value:s},e.children)}}}]);