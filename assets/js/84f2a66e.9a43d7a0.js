"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[1501],{857:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});const d=JSON.parse('{"id":"db/db-redis-distributed-lock","title":"Redis\ub97c \ud65c\uc6a9\ud55c \ubd84\uc0b0\ub77d \uad6c\ud604","description":"Redis\uc758 SET \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud574\uc11c \ubd84\uc0b0 \uc7a0\uae08\uc744 \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uac00\ub839, 1\ub300 \uc774\uc0c1\uc758 \uc11c\ubc84\uac00 \ud2b9\uc815 Key\uc5d0 \ub300\ud574\uc11c SET \uba85\ub839\uc5b4\uc5d0 NX \uc635\uc158(Not eXists)\uc744 \ucd94\uac00\ud558\uc5ec Redis\uc5d0 \uc804\ub2ec\ud558\uc5ec \uc7a0\uae08 \ud68d\ub4dd\uc744 \uc2dc\ub3c4\ud569\ub2c8\ub2e4. NX \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\uba74 \ud2b9\uc815 Key\uc5d0 \ud574\ub2f9\ud558\ub294 \uac12\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0\uc5d0\ub9cc \uac12 \ucd94\uac00 \uc791\uc5c5\uc774 \uc131\uacf5\ud569\ub2c8\ub2e4. SET \uc791\uc5c5\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uc218\ud589\ud55c \uc11c\ubc84\ub294 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud569\ub2c8\ub2e4. \uc7a0\uae08\uc744 \ud68d\ub4dd\ud55c \uc11c\ubc84\ub294 \uc791\uc5c5\uc774 \ub05d\ub09c \uc774\ud6c4, Key\uc5d0 \ud574\ub2f9\ud558\ub294 \uac12\uc744 \uc81c\uac70\ud558\uc5ec \uc7a0\uae08\uc744 \ud574\uc81c\ud569\ub2c8\ub2e4.","source":"@site/docs/db/db-redis-distributed-lock.md","sourceDirName":"db","slug":"/db/db-redis-distributed-lock","permalink":"/joylangcenter/docs/db/db-redis-distributed-lock","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Database","permalink":"/joylangcenter/docs/tags/db","description":"Database tag description"},{"inline":false,"label":"Redis","permalink":"/joylangcenter/docs/tags/redis","description":"Redis tag description"}],"version":"current","frontMatter":{"slug":"db-redis-distributed-lock","title":"Redis\ub97c \ud65c\uc6a9\ud55c \ubd84\uc0b0\ub77d \uad6c\ud604","tags":["db","redis"]},"sidebar":"johnyDocsSidebar","previous":{"title":"RDB \ud398\uc774\uc9d5 \ucffc\ub9ac(Paging Query)","permalink":"/joylangcenter/docs/db/db-rdb-paging"},"next":{"title":"Redis\uac00 \uc2f1\uae00 \uc2a4\ub808\ub4dc\ub85c \ub9cc\ub4e4\uc5b4\uc9c4 \uc774\uc720","permalink":"/joylangcenter/docs/db/db-redis-single-thread"}}');var i=s(4848),t=s(8453);const r={slug:"db-redis-distributed-lock",title:"Redis\ub97c \ud65c\uc6a9\ud55c \ubd84\uc0b0\ub77d \uad6c\ud604",tags:["db","redis"]},o=void 0,l={},c=[{value:"\u2714\ufe0f \uc7a0\uae08(lock)\uc774 \uc720\uc2e4\ub420 \uac00\ub2a5\uc131\uc774 \uc788\uc9c0 \uc54a\uc744\uae4c?",id:"\ufe0f-\uc7a0\uae08lock\uc774-\uc720\uc2e4\ub420-\uac00\ub2a5\uc131\uc774-\uc788\uc9c0-\uc54a\uc744\uae4c",level:2},{value:"\u2714\ufe0f RedLock \uc54c\uace0\ub9ac\uc998\uc740 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud560\uae4c?",id:"\ufe0f-redlock-\uc54c\uace0\ub9ac\uc998\uc740-\uc5b4\ub5bb\uac8c-\ub3d9\uc791\ud560\uae4c",level:2},{value:"\u2714\ufe0f RedLock \uad6c\uc131 \uc694\uac74",id:"\ufe0f-redlock-\uad6c\uc131-\uc694\uac74",level:2}];function a(e){const n={blockquote:"blockquote",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Redis\uc758 SET \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud574\uc11c \ubd84\uc0b0 \uc7a0\uae08\uc744 \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uac00\ub839, 1\ub300 \uc774\uc0c1\uc758 \uc11c\ubc84\uac00 \ud2b9\uc815 Key\uc5d0 \ub300\ud574\uc11c SET \uba85\ub839\uc5b4\uc5d0 NX \uc635\uc158(",(0,i.jsx)(n.strong,{children:"N"}),"ot e",(0,i.jsx)(n.strong,{children:"X"}),"ists)\uc744 \ucd94\uac00\ud558\uc5ec Redis\uc5d0 \uc804\ub2ec\ud558\uc5ec \uc7a0\uae08 \ud68d\ub4dd\uc744 \uc2dc\ub3c4\ud569\ub2c8\ub2e4. ",(0,i.jsx)("mark",{children:(0,i.jsx)(n.strong,{children:"NX \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\uba74 \ud2b9\uc815 Key\uc5d0 \ud574\ub2f9\ud558\ub294 \uac12\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0\uc5d0\ub9cc \uac12 \ucd94\uac00"})})," \uc791\uc5c5\uc774 \uc131\uacf5\ud569\ub2c8\ub2e4. SET \uc791\uc5c5\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uc218\ud589\ud55c \uc11c\ubc84\ub294 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud569\ub2c8\ub2e4. \uc7a0\uae08\uc744 \ud68d\ub4dd\ud55c \uc11c\ubc84\ub294 \uc791\uc5c5\uc774 \ub05d\ub09c \uc774\ud6c4, Key\uc5d0 \ud574\ub2f9\ud558\ub294 \uac12\uc744 \uc81c\uac70\ud558\uc5ec \uc7a0\uae08\uc744 \ud574\uc81c\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-\uc7a0\uae08lock\uc774-\uc720\uc2e4\ub420-\uac00\ub2a5\uc131\uc774-\uc788\uc9c0-\uc54a\uc744\uae4c",children:"\u2714\ufe0f \uc7a0\uae08(lock)\uc774 \uc720\uc2e4\ub420 \uac00\ub2a5\uc131\uc774 \uc788\uc9c0 \uc54a\uc744\uae4c?"}),"\n",(0,i.jsx)(n.p,{children:"\ub9cc\uc57d, \ub808\ud50c\ub9ac\ucf00\uc774\uc158 \uad6c\uc131\uc73c\ub85c \uc774\ub8e8\uc5b4\uc838 \uc788\uc73c\uba74 \uc7a0\uae08\uc774 \uc720\uc2e4\ub420 \uac00\ub2a5\uc131\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ub9c8\uc2a4\ud130 \ub178\ub4dc\uac00 \uc874\uc7ac\ud558\uace0 \ub808\ud50c\ub9ac\uce74 \ub178\ub4dc\uc5d0 \uc8fc\uae30\uc801\uc73c\ub85c \ub370\uc774\ud130\ub97c \ubcf5\uc81c\ud558\ub294 \uad6c\uc131\uc774\ub77c\uace0 \uac00\uc815\ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc774\ub54c, \ud2b9\uc815 \uc11c\ubc84\uac00 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud558\uace0 \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294 \ub3c4\uc911\uc5d0 \ub9c8\uc2a4\ud130 \ub178\ub4dc\uc5d0 \uc7a5\uc560\uac00 \ubc1c\uc0dd\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 \ub808\ud50c\ub9ac\uce74 \ub178\ub4dc\uac00 \ub9c8\uc2a4\ud130 \ub178\ub4dc\ub85c \uc2b9\uaca9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (failover)"}),"\n",(0,i.jsxs)(n.p,{children:["\uc704\uc640 \uac19\uc740 \uac00\uc815\uc5d0\uc11c \uae30\uc874 \ub9c8\uc2a4\ud130 \ub178\ub4dc\uac00 \uac00\uc9c0\uace0 \uc788\ub358 \uc7a0\uae08\uc6a9 \ub370\uc774\ud130\ub97c \ub808\ud50c\ub9ac\uce74 \ub178\ub4dc\uac00 \uac00\uc9c0\uace0 \uc788\uc9c0 \uc54a\uc740 \uc0c1\ud0dc\ub77c\uba74, \uc791\uc5c5\uc744 \ucc98\ub9ac\ud558\uace0 \uc788\ub294 \uc11c\ubc84\uc758 \uc7a0\uae08\uc774 \uc720\uc2e4\ub429\ub2c8\ub2e4. \uc989, \ubcf5\uc81c \uc9c0\uc5f0\uc73c\ub85c \uc778\ud574 \ubd84\uc0b0 \uc7a0\uae08\uc758 \uc0c1\ud638 \ubc30\uc81c\ub77c\ub294 \ud2b9\uc131\uc744 \uc783\uac8c \ub429\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c ",(0,i.jsx)("mark",{children:(0,i.jsx)(n.strong,{children:"RedLock \uc54c\uace0\ub9ac\uc998"})}),"\uc774 \ub4f1\uc7a5\ud588\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-redlock-\uc54c\uace0\ub9ac\uc998\uc740-\uc5b4\ub5bb\uac8c-\ub3d9\uc791\ud560\uae4c",children:"\u2714\ufe0f RedLock \uc54c\uace0\ub9ac\uc998\uc740 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud560\uae4c?"}),"\n",(0,i.jsx)(n.p,{children:"RedLock \uc54c\uace0\ub9ac\uc998\uc740 1\ub300 \uc774\uc0c1\uc758 \ub2e8\uc77c \ub808\ub514\uc2a4 \ub178\ub4dc\ub4e4\uc744 \uc774\uc6a9\ud558\uc5ec \ubd84\uc0b0 \uc7a0\uae08\uc744 \uad6c\ud604\ud558\ub294\ub370\uc694. \uacfc\ubc18\uc218 \uc774\uc0c1\uc758 \ub178\ub4dc\uc5d0 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud55c\ub2e4\uba74 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud558\ub294 \uac83\uc73c\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4. \ub9cc\uc57d, 5\uac1c\uc758 \ub2e8\uc77c \ub808\ub514\uc2a4 \ub178\ub4dc\uac00 \uc874\uc7ac\ud55c\ub2e4\uace0 \uac00\uc815\ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc791\uc5c5 \uc11c\ubc84\uac00 \ubaa8\ub4e0 \ub178\ub4dc\uc5d0\uac8c \uc7a0\uae08 \ud68d\ub4dd\uc744 \uc2dc\ub3c4\ud588\ub294\ub370, 3\uac1c(\uacfc\ubc18\uc218) \ub178\ub4dc\uc5d0\uc11c \uc7a0\uae08\uc744 \ud68d\ub4dd\ub2e4\uba74, \ubd84\uc0b0 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud55c \uac83\uc73c\ub85c \ud310\ub2e8\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-redlock-\uad6c\uc131-\uc694\uac74",children:"\u2714\ufe0f RedLock \uad6c\uc131 \uc694\uac74"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\uc11c\ub85c \ub3c5\ub9bd\ub41c Redis \uc778\uc2a4\ud134\uc2a4(",(0,i.jsx)("mark",{children:"Master \ub178\ub4dc"}),") 5\uac1c \uc774\uc0c1"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\uc774\ub4e4\uc740 \uc11c\ub85c \ub124\ud2b8\uc6cc\ud06c\ub098 \uc2a4\ud1a0\ub9ac\uc9c0 \uc7a5\uc560\ub85c\ubd80\ud130 \ub3c5\ub9bd\uc801\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\uc608: \uc11c\ub85c \ub2e4\ub978 \uc11c\ubc84, \uac00\uc6a9 \uc601\uc5ed, \ub370\uc774\ud130\uc13c\ud130\uc5d0 \uc704\uce58"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"\uac01 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub3d9\uc77c\ud55c Lock Key\ub97c \uc2dc\ub3c4"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \uac00\ub2a5\ud55c \ud55c \ub3d9\uc2dc\uc5d0 \uac01 \uc778\uc2a4\ud134\uc2a4\uc5d0 Lock\uc744 \uc2dc\ub3c4\ud558\uace0, \uacfc\ubc18\uc218(\uc608: 5\uac1c \uc911 3\uac1c) \uc774\uc0c1 \uc131\uacf5\ud558\uba74 Lock\uc744 \ud68d\ub4dd\ud55c \uac83\uc73c\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"\ubcf5\uc81c\ubcf8(Replica) \uc0ac\uc6a9 \uc5ec\ubd80\ub294 \ubcc4\uac1c"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Redis Sentinel\uc774\ub098 Cluster \uad6c\uc870 \ub0b4\uc5d0\uc11c \ub808\ud50c\ub9ac\uce74\ub294 \uac00\ub2a5\ud558\uc9c0\ub9cc, RedLock \uc790\uccb4\ub294 \ubcf5\uc81c\ubcf8\uc774 \uc544\ub2cc, \ub9c8\uc2a4\ud130 \uc778\uc2a4\ud134\uc2a4\ub4e4 \uac04\uc758 \ub3c5\ub9bd\uc131\uc5d0 \uc758\uc874\ud569\ub2c8\ub2e4."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var d=s(6540);const i={},t=d.createContext(i);function r(e){const n=d.useContext(t);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),d.createElement(t.Provider,{value:n},e.children)}}}]);