"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[8204],{1189:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"db/db-transactional-outbox-pattern","title":"\ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3\ubc15\uc2a4 \ud328\ud134 (Transactional Outbox Pattern)","description":"\ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3\ubc15\uc2a4 \ud328\ud134(Transactional Outbox Pattern) \uc740 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ub2e8\uc77c \uc791\uc5c5\uc5d0 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc4f0\uae30 \uc791\uc5c5\uacfc \uba54\uc2dc\uc9c0 \ud639\uc740 \uc774\ubca4\ud2b8 \ubc1c\ud589\uc774 \ubaa8\ub450 \ud3ec\ud568\ub41c \uacbd\uc6b0 \ubc1c\uc0dd\ud558\ub294 \uc774\uc911 \uc4f0\uae30 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ub2e4\uc74c\uacfc \uac19\uc740 \ucf54\ub4dc\uac00 \uc874\uc7ac\ud55c\ub2e4\uace0 \uac00\uc815\ud558\uaca0\uc2b5\ub2c8\ub2e4.","source":"@site/docs/db/db-transactional-outbox-pattern.md","sourceDirName":"db","slug":"/db/db-transactional-outbox-pattern","permalink":"/docs/db/db-transactional-outbox-pattern","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Database","permalink":"/docs/tags/db","description":"Database tag description"},{"inline":false,"label":"Computer Science","permalink":"/docs/tags/cs","description":"Computer Science tag description"}],"version":"current","frontMatter":{"slug":"db-transactional-outbox-pattern","title":"\ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3\ubc15\uc2a4 \ud328\ud134 (Transactional Outbox Pattern)","tags":["db","cs"]},"sidebar":"johnyDocsSidebar","previous":{"title":"\ud2b8\ub79c\uc7ad\uc158 \uaca9\ub9ac\uc218\uc900","permalink":"/docs/db/db-transaction-isolation-level"}}');var a=e(4848),r=e(8453);const c={slug:"db-transactional-outbox-pattern",title:"\ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3\ubc15\uc2a4 \ud328\ud134 (Transactional Outbox Pattern)",tags:["db","cs"]},s=void 0,i={},d=[];function l(t){const n={code:"code",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3\ubc15\uc2a4 \ud328\ud134(Transactional Outbox Pattern)"})," \uc740 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ub2e8\uc77c \uc791\uc5c5\uc5d0 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc4f0\uae30 \uc791\uc5c5\uacfc \uba54\uc2dc\uc9c0 \ud639\uc740 \uc774\ubca4\ud2b8 \ubc1c\ud589\uc774 \ubaa8\ub450 \ud3ec\ud568\ub41c \uacbd\uc6b0 \ubc1c\uc0dd\ud558\ub294 \uc774\uc911 \uc4f0\uae30 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ub2e4\uc74c\uacfc \uac19\uc740 \ucf54\ub4dc\uac00 \uc874\uc7ac\ud55c\ub2e4\uace0 \uac00\uc815\ud558\uaca0\uc2b5\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Transactional\npublic void propagateSample() {\n   Product product = new Product("\uc2e0\uaddc \uc0c1\ud488");\n   productRepository.save(product);\n   eventPublisher.propagate(new NewProductEvent(product.getId()));\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"\uc704\uc640 \uac19\uc774 \uc2e0\uaddc \uc0c1\ud488\uc744 \uc0dd\uc131\ud558\uace0, \uc774\ubca4\ud2b8\ub97c \ubc1c\ud589\ud558\ub294 \ucf54\ub4dc\ub97c \ud2b8\ub79c\uc7ad\uc158 AOP \ub85c\uc9c1\uc774 \uc801\uc6a9\ub41c \uac04\ub2e8\ud55c \uc758\uc0ac\ucf54\ub4dc\ub85c \uc791\uc131\ud55c\ub2e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc744 \ud150\ub370\uc694."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public void doInTransaction() {\n   try {\n     transaction.begin();\n     Product product = new Product("\uc2e0\uaddc \uc0c1\ud488");\n     productRepository.save(product);\n     eventPublisher.propagate(new NewProductEvent(product.getId()));\n     transaction.commit();\n   } catch(Exception e) {\n     transaction.rollback();\n   }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\uc704\uc640 \uac19\uc740 \ucf54\ub4dc\uc5d0\uc11c \ud2b8\ub79c\uc7ad\uc158\uc740 \ucee4\ubc0b\ub410\uc9c0\ub9cc \uc774\ubca4\ud2b8 \ubc1c\ud589\uc740 \uc2e4\ud328\ud560 \uc218 \uc788\uc73c\uba70, \ubc18\ub300\ub85c \uc774\ubca4\ud2b8 \ubc1c\ud589\uc740 \uc131\uacf5\ud588\uc9c0\ub9cc \ucee4\ubc0b \uc5f0\uc0b0\uc774 \ubaa8\uc885\uc758 \uc774\uc720\ub85c \uc2e4\ud328\ud558\uc5ec \ud2b8\ub79c\uc7ad\uc158\uc740 \ub864\ubc31 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uc774\uc911 \uc4f0\uae30\ub85c \uc778\ud574 \ubc1c\uc0dd\ud558\ub294 \ubb38\uc81c\ub294 \uc804\uccb4 \uc11c\ube44\uc2a4\uc758 \ub370\uc774\ud130 \uc815\ud569\uc131\uc5d0 \ubb38\uc81c\ub97c \ub9cc\ub4e4\uac70\ub098 \uc11c\ube44\uc2a4 \uc7a5\uc560\ub85c \uc774\uc5b4\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c ",(0,a.jsx)("mark",{children:(0,a.jsx)(n.strong,{children:"\uc11c\ube44\uc2a4 \ub85c\uc9c1\uc758 \uc2e4\ud589\uacfc \uc774\ubca4\ud2b8 \ubc1c\ud589\uc744 \uc6d0\uc790\uc801\uc73c\ub85c \ud568\uaed8 \uc218\ud589\ud558\ub294 \uac83"})}),"\uc744 ",(0,a.jsx)(n.strong,{children:"\ud2b8\ub79c\uc7ad\uc154\ub110 \uba54\uc2dc\uc9d5(Transactional Messaing)"})," \uc774\ub77c\uace0 \ud558\uba70, \ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3\ubc15\uc2a4 \ud328\ud134\uc758 \uc0ac\uc6a9 \uc774\uc720\uae30\ub3c4 \ud569\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Transactional\npublic void propagateSample() {\n   Product product = new Product("\uc2e0\uaddc \uc0c1\ud488");\n   productRepository.save(product);\n   productOutboxRepository.save(new ProductEvent(product.getId()));\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Product \ubc1c\ud589 \uc774\ubca4\ud2b8\ub97c \uc800\uc7a5\ud558\uae30 \uc704\ud55c Outbox \ud14c\uc774\ube14\uc744 \ub9cc\ub4e4\uace0, \uac19\uc740 \ud2b8\ub79c\uc7ad\uc158 \ub0b4\ubd80\uc5d0\uc11c \uc774\ubca4\ud2b8\ub97c \uc800\uc7a5\ud569\ub2c8\ub2e4. \uc6d0\uc790\uc131\uc744 \ubcf4\uc7a5\ud574 \uc8fc\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 \uc774\ubca4\ud2b8\uc640 \uc2e0\uaddc \uc0c1\ud488\uc740 \ubaa8\ub450 \uc800\uc7a5\ub418\uac70\ub098, \ubaa8\ub450 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud569\ub2c8\ub2e4. \uadf8\ub9ac\uace0, \ubcc4\ub3c4\uc758 \ud504\ub85c\uc138\uc2a4\uac00 Outbox \ud14c\uc774\ube14\uc5d0 \uc800\uc7a5\ub41c \ub808\ucf54\ub4dc\ub4e4\uc744 \uc8fc\uae30\uc801\uc73c\ub85c \ud3f4\ub9c1\ud558\uc5ec \uc678\ubd80 \uc2dc\uc2a4\ud15c\uc5d0 \uc131\uacf5\ud560 \ub54c\uae4c\uc9c0 \uc774\ubca4\ud2b8\ub97c \ubc1c\ud589\ud558\ub294 \uac83\uc774 \ud2b8\ub79c\uc7ad\uc154\ub110 \uc544\uc6c3 \ubc15\uc2a4 \ud328\ud134\uc758 \uae30\ubcf8\uc801\uc778 \uad6c\ud604 \ubc29\uc2dd\uc785\ub2c8\ub2e4."})]})}function u(t={}){const{wrapper:n}={...(0,r.R)(),...t.components};return n?(0,a.jsx)(n,{...t,children:(0,a.jsx)(l,{...t})}):l(t)}},8453:(t,n,e)=>{e.d(n,{R:()=>c,x:()=>s});var o=e(6540);const a={},r=o.createContext(a);function c(t){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function s(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:c(t.components),o.createElement(r.Provider,{value:n},t.children)}}}]);