<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-db/db-redis-distributed-lock" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Redis를 활용한 분산락 구현 | 조니의 개발 블로그</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://johnycho.github.io/joylangcenter/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://johnycho.github.io/joylangcenter/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://johnycho.github.io/joylangcenter/docs/db/db-redis-distributed-lock"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Redis를 활용한 분산락 구현 | 조니의 개발 블로그"><meta data-rh="true" name="description" content="Redis의 SET 명령어를 사용해서 분산 잠금을 구현할 수 있습니다. 가령, 1대 이상의 서버가 특정 Key에 대해서 SET 명령어에 NX 옵션(Not eXists)을 추가하여 Redis에 전달하여 잠금 획득을 시도합니다. NX 옵션을 사용하면 특정 Key에 해당하는 값이 존재하지 않는 경우에만 값 추가 작업이 성공합니다. SET 작업을 성공적으로 수행한 서버는 잠금을 획득합니다. 잠금을 획득한 서버는 작업이 끝난 이후, Key에 해당하는 값을 제거하여 잠금을 해제합니다."><meta data-rh="true" property="og:description" content="Redis의 SET 명령어를 사용해서 분산 잠금을 구현할 수 있습니다. 가령, 1대 이상의 서버가 특정 Key에 대해서 SET 명령어에 NX 옵션(Not eXists)을 추가하여 Redis에 전달하여 잠금 획득을 시도합니다. NX 옵션을 사용하면 특정 Key에 해당하는 값이 존재하지 않는 경우에만 값 추가 작업이 성공합니다. SET 작업을 성공적으로 수행한 서버는 잠금을 획득합니다. 잠금을 획득한 서버는 작업이 끝난 이후, Key에 해당하는 값을 제거하여 잠금을 해제합니다."><link data-rh="true" rel="icon" href="/joylangcenter/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://johnycho.github.io/joylangcenter/docs/db/db-redis-distributed-lock"><link data-rh="true" rel="alternate" href="https://johnycho.github.io/joylangcenter/docs/db/db-redis-distributed-lock" hreflang="ko"><link data-rh="true" rel="alternate" href="https://johnycho.github.io/joylangcenter/docs/db/db-redis-distributed-lock" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NAZXBH587R-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/joylangcenter/blog/rss.xml" title="조니의 개발 블로그 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/joylangcenter/blog/atom.xml" title="조니의 개발 블로그 Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="조니의 개발 블로그" href="/joylangcenter/opensearch.xml">
<script src="https://johny-dev.disqus.com/count.js" async id="dsq-count-scr"></script><link rel="stylesheet" href="/joylangcenter/assets/css/styles.81c9168a.css">
<script src="/joylangcenter/assets/js/runtime~main.ab6a0457.js" defer="defer"></script>
<script src="/joylangcenter/assets/js/main.a0576a39.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://github.com/johnycho.png"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/joylangcenter/"><div class="navbar__logo"><img src="https://github.com/johnycho.png" alt="Johny Dev Logo" class="custom-navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://github.com/johnycho.png" alt="Johny Dev Logo" class="custom-navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">조니의 개발 블로그</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/joylangcenter/docs/intro">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/joylangcenter/docs/intro">All Docs</a></li><li><a class="dropdown__link" href="/joylangcenter/docs/tags">Tags</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/joylangcenter/blog">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/joylangcenter/blog">All Posts</a></li><li><a class="dropdown__link" href="/joylangcenter/blog/archive">Archive</a></li><li><a class="dropdown__link" href="/joylangcenter/blog/tags">Tags</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/johnycho" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-logo"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 어두운 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 어두운 모드)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="검색 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">검색</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="문서 사이드바" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/joylangcenter/docs/intro">📝 기록하고 기억하자 💪🏻</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/joylangcenter/docs/category/computer-science">Computer Science</a><button aria-label="사이드바 분류 &#x27;Computer Science&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/joylangcenter/docs/category/java">Java</a><button aria-label="사이드바 분류 &#x27;Java&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/joylangcenter/docs/category/spring-framework">Spring Framework</a><button aria-label="사이드바 분류 &#x27;Spring Framework&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/joylangcenter/docs/category/spring-data-jpa">Spring Data JPA</a><button aria-label="사이드바 분류 &#x27;Spring Data JPA&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/joylangcenter/docs/category/database">Database</a><button aria-label="사이드바 분류 &#x27;Database&#x27; 접기" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-acid">ACID 속성</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-cache-stampede">캐시 스탬피드 현상</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-caching-strategy">캐싱 전략</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-cap-theorem">CAP 정리 (= 브루어(Brewer)의 정리)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-concurrency-control">데이터베이스 동시성 제어 방법</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-connection-pool">데이터베이스 커넥션 풀</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-index">데이터베이스 인덱스</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-mysql-innodb-lock">MySQL InnoDB의 갭 락과 넥스트키 락</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-normalization">데이터베이스 정규화</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-optimistic-pessimistic-lock">낙관적 락과 비관적 락</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-rdb-and-nosql">관계형 데이터베이스와 비 관계형 데이터베이스의 차이점</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-rdb-paging">RDB 페이징 쿼리(Paging Query)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/joylangcenter/docs/db/db-redis-distributed-lock">Redis를 활용한 분산락 구현</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-redis-single-thread">Redis가 싱글 스레드로 만들어진 이유</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-replication">DB Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-shared-exclusive-lock">공유 락(Shared Lock)과 배타 락(Exclusive Lock)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-transaction-isolation-level">트랜잭션 격리수준</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/joylangcenter/docs/db/db-transactional-outbox-pattern">트랜잭셔널 아웃박스 패턴 (Transactional Outbox Pattern)</a></li></ul></li></ul></nav><button type="button" title="사이드바 숨기기" aria-label="사이드바 숨기기" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="탐색 경로"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/joylangcenter/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/joylangcenter/docs/category/database"><span itemprop="name">Database</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Redis를 활용한 분산락 구현</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Redis를 활용한 분산락 구현</h1></header><p>Redis의 SET 명령어를 사용해서 분산 잠금을 구현할 수 있습니다. 가령, 1대 이상의 서버가 특정 Key에 대해서 SET 명령어에 NX 옵션(<strong>N</strong>ot e<strong>X</strong>ists)을 추가하여 Redis에 전달하여 잠금 획득을 시도합니다. <mark><strong>NX 옵션을 사용하면 특정 Key에 해당하는 값이 존재하지 않는 경우에만 값 추가</strong></mark> 작업이 성공합니다. SET 작업을 성공적으로 수행한 서버는 잠금을 획득합니다. 잠금을 획득한 서버는 작업이 끝난 이후, Key에 해당하는 값을 제거하여 잠금을 해제합니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-잠금lock이-유실될-가능성이-있지-않을까">✔️ 잠금(lock)이 유실될 가능성이 있지 않을까?<a href="#️-잠금lock이-유실될-가능성이-있지-않을까" class="hash-link" aria-label="✔️ 잠금(lock)이 유실될 가능성이 있지 않을까?에 대한 직접 링크" title="✔️ 잠금(lock)이 유실될 가능성이 있지 않을까?에 대한 직접 링크">​</a></h2>
<p>만약, 레플리케이션 구성으로 이루어져 있으면 잠금이 유실될 가능성이 존재합니다. 예를 들어, 마스터 노드가 존재하고 레플리카 노드에 주기적으로 데이터를 복제하는 구성이라고 가정하겠습니다. 이때, 특정 서버가 잠금을 획득하고 작업을 수행하는 도중에 마스터 노드에 장애가 발생하는 경우에는 레플리카 노드가 마스터 노드로 승격될 수 있습니다. (failover)</p>
<p>위와 같은 가정에서 기존 마스터 노드가 가지고 있던 잠금용 데이터를 레플리카 노드가 가지고 있지 않은 상태라면, 작업을 처리하고 있는 서버의 잠금이 유실됩니다. 즉, 복제 지연으로 인해 분산 잠금의 상호 배제라는 특성을 잃게 됩니다. 이러한 문제를 해결하기 위해서 <mark><strong>RedLock 알고리즘</strong></mark>이 등장했습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-redlock-알고리즘은-어떻게-동작할까">✔️ RedLock 알고리즘은 어떻게 동작할까?<a href="#️-redlock-알고리즘은-어떻게-동작할까" class="hash-link" aria-label="✔️ RedLock 알고리즘은 어떻게 동작할까?에 대한 직접 링크" title="✔️ RedLock 알고리즘은 어떻게 동작할까?에 대한 직접 링크">​</a></h2>
<p>RedLock 알고리즘은 1대 이상의 단일 레디스 노드들을 이용하여 분산 잠금을 구현하는데요. 과반수 이상의 노드에 잠금을 획득한다면 잠금을 획득하는 것으로 간주합니다. 만약, 5개의 단일 레디스 노드가 존재한다고 가정하겠습니다. 작업 서버가 모든 노드에게 잠금 획득을 시도했는데, 3개(과반수) 노드에서 잠금을 획득다면, 분산 잠금을 획득한 것으로 판단합니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-redlock-구성-요건">✔️ RedLock 구성 요건<a href="#️-redlock-구성-요건" class="hash-link" aria-label="✔️ RedLock 구성 요건에 대한 직접 링크" title="✔️ RedLock 구성 요건에 대한 직접 링크">​</a></h2>
<ol>
<li>서로 독립된 Redis 인스턴스(<mark>Master 노드</mark>) 5개 이상</li>
</ol>
<blockquote>
<p>이들은 서로 네트워크나 스토리지 장애로부터 독립적이어야 합니다.</p>
<blockquote>
<p>예: 서로 다른 서버, 가용 영역, 데이터센터에 위치</p>
</blockquote>
</blockquote>
<ol start="2">
<li>각 인스턴스에 동일한 Lock Key를 시도</li>
</ol>
<blockquote>
<p>클라이언트는 가능한 한 동시에 각 인스턴스에 Lock을 시도하고, 과반수(예: 5개 중 3개) 이상 성공하면 Lock을 획득한 것으로 간주합니다.</p>
</blockquote>
<ol start="3">
<li>복제본(Replica) 사용 여부는 별개</li>
</ol>
<blockquote>
<p>Redis Sentinel이나 Cluster 구조 내에서 레플리카는 가능하지만, RedLock 자체는 복제본이 아닌, 마스터 인스턴스들 간의 독립성에 의존합니다.</p>
</blockquote><div>Loading comments...</div> </div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>태그:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="Database tag description" class="tag_zVej tagRegular_sFm0" href="/joylangcenter/docs/tags/db">Database</a></li><li class="tag_QGVx"><a title="Redis tag description" class="tag_zVej tagRegular_sFm0" href="/joylangcenter/docs/tags/redis">Redis</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/joylangcenter/docs/db/db-rdb-paging"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">RDB 페이징 쿼리(Paging Query)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/joylangcenter/docs/db/db-redis-single-thread"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Redis가 싱글 스레드로 만들어진 이유</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#️-잠금lock이-유실될-가능성이-있지-않을까" class="table-of-contents__link toc-highlight">✔️ 잠금(lock)이 유실될 가능성이 있지 않을까?</a></li><li><a href="#️-redlock-알고리즘은-어떻게-동작할까" class="table-of-contents__link toc-highlight">✔️ RedLock 알고리즘은 어떻게 동작할까?</a></li><li><a href="#️-redlock-구성-요건" class="table-of-contents__link toc-highlight">✔️ RedLock 구성 요건</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Johny Cho. All rights reserved.</div></div></div></footer></div>
</body>
</html>